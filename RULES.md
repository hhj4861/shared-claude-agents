# 팀 공통 규칙

Claude Code 사용 시 적용되는 팀 공통 규칙입니다.

## 1. 코드 작성 원칙

### 1.1 단순성 우선

```yaml
원칙:
  - 오버엔지니어링 금지
  - 지금 필요한 것만 구현
  - 미래 대비 코드 금지
  - 추상화는 최소한으로
```

### 1.2 TDD 필수

```yaml
개발팀_책임:
  - 단위 테스트는 개발자가 작성
  - Red → Green → Refactor 사이클
  - 테스트 커버리지 80%+

QA팀_책임:
  - Integration/E2E 테스트
  - 테스트 시나리오 설계
```

### 1.3 코딩 컨벤션

```yaml
TypeScript:
  - strict mode 필수
  - any 타입 사용 금지
  - 명시적 타입 선언

네이밍:
  - 컴포넌트: PascalCase
  - 함수/변수: camelCase
  - 파일: kebab-case
  - 상수: UPPER_SNAKE_CASE
```

## 2. Git 규칙

### 2.1 브랜치 전략

```yaml
main:
  - 배포 가능한 코드
  - 직접 커밋 금지
  - PR 통해서만 머지

develop:
  - 개발 브랜치
  - 기능 브랜치 머지 대상

feature/*:
  - 기능 개발 브랜치
  - develop에서 분기
```

### 2.2 커밋 규칙

```yaml
형식: "<type>(<scope>): <subject>"

type:
  - feat: 새 기능
  - fix: 버그 수정
  - docs: 문서
  - refactor: 리팩토링
  - test: 테스트
  - chore: 기타

금지사항:
  - force push (main/develop)
  - 커밋 amend 후 push
  - 민감 정보 커밋
```

### 2.3 PR 규칙

```yaml
필수사항:
  - 코드 리뷰 1명 이상
  - CI 테스트 통과
  - 컨플릭트 해결

PR_템플릿:
  - 변경사항 요약
  - 테스트 계획
  - 스크린샷 (UI 변경시)
```

## 3. 보안 규칙

### 3.1 환경 변수

```yaml
필수:
  - 민감 정보는 환경 변수로
  - .env.local은 .gitignore에 포함
  - CI/CD에서는 Secrets 사용

금지:
  - 하드코딩된 API 키
  - 하드코딩된 비밀번호
  - 로그에 민감 정보 출력
```

### 3.2 입력 검증

```yaml
필수:
  - 모든 사용자 입력 검증 (Zod)
  - SQL 파라미터화
  - HTML 이스케이프

금지:
  - eval() 사용
  - dangerouslySetInnerHTML (검증 없이)
```

## 4. 에이전트 사용 규칙

### 4.1 에이전트 위임

```yaml
즉시_위임:
  - 프론트엔드 요청 → frontend-dev
  - 백엔드 요청 → backend-dev
  - 테스트 요청 → qa-director
  - 배포 요청 → devops-director

직접_수행:
  - 전체 파이프라인 조율
  - 간단한 수정
  - 질문 답변
```

### 4.2 문서 참조

```yaml
항상_읽기:
  - standards/ (표준 문서)
  - 관련 에이전트 문서

선택_읽기:
  - 프로젝트 README
  - 기존 코드 패턴
```

## 5. 품질 기준

### 5.1 테스트 기준

```yaml
필수:
  - P0 테스트 100% 통과
  - P1 테스트 95% 통과
  - Critical 버그 0개

권장:
  - 커버리지 80%+
  - 성능 SLA 충족
```

### 5.2 코드 리뷰 기준

```yaml
확인사항:
  - 기능 요구사항 충족
  - 코드 가독성
  - 테스트 포함 여부
  - 보안 취약점

승인_조건:
  - 리뷰어 1명 이상 승인
  - CI 통과
  - 컨플릭트 없음
```

## 6. 의사소통 규칙

### 6.1 사용자와의 대화

```yaml
원칙:
  - 간결하고 명확하게
  - 기술 용어 과다 사용 자제
  - 진행 상황 수시 공유

확인_필요시:
  - 모호한 요구사항
  - 여러 옵션이 있을 때
  - 위험한 작업 전
```

### 6.2 에이전트 간 협업

```yaml
핸드오프시:
  - 명확한 컨텍스트 전달
  - 완료된 작업 명시
  - 다음 작업 명시
```

---

**Remember**: 규칙은 일관성을 위한 것이다. 예외 상황에서는 판단력을 발휘하되, 그 이유를 명확히 하라.
