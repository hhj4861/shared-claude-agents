# 시스템 설계서: {시스템/모듈명}

## 메타데이터

| 항목 | 값 |
|------|-----|
| 버전 | 1.0 |
| 작성일 | YYYY-MM-DD |
| 작성자 | {이름} |
| 관련 기능 | {기능 목록} |

---

## 1. 아키텍처 개요

```
[클라이언트] → [API Gateway] → [서비스] → [데이터베이스]
```

{아키텍처에 대한 간략한 설명}

---

## 2. 컴포넌트 설계

### 2.1 프론트엔드

| 컴포넌트 | 경로 | 역할 | 의존성 |
|---------|------|------|--------|
| {컴포넌트명} | /components/{path} | {역할} | {의존성} |

### 2.2 백엔드

| 모듈 | 경로 | 역할 | 의존성 |
|------|------|------|--------|
| {모듈명} | /services/{path} | {역할} | {의존성} |

---

## 3. 데이터 흐름

```
1. 사용자 입력 →
2. 클라이언트 검증 →
3. API 호출 →
4. 서버 검증 →
5. 비즈니스 로직 처리 →
6. DB 작업 →
7. 응답 반환
```

---

## 4. API 명세

### 4.1 {API 이름}

**Endpoint**: `{METHOD} /api/{path}`

**Request**:
```json
{
  "field1": "string",
  "field2": "number"
}
```

**Request Headers**:
| 헤더 | 필수 | 설명 |
|------|------|------|
| Authorization | Y | Bearer {token} |

**Response (200 OK)**:
```json
{
  "success": true,
  "data": {
    "id": "string",
    "field": "value"
  }
}
```

**Response (4xx/5xx Error)**:
```json
{
  "error": "ERROR_CODE",
  "message": "에러 메시지"
}
```

---

## 5. 데이터베이스 설계

### 5.1 테이블 구조

**{테이블명}**

| 컬럼 | 타입 | 제약조건 | 설명 |
|------|------|----------|------|
| id | UUID | PK | 기본키 |
| {컬럼명} | {타입} | {제약조건} | {설명} |
| created_at | TIMESTAMP | NOT NULL | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL | 수정일시 |

### 5.2 인덱스

| 인덱스명 | 컬럼 | 타입 |
|----------|------|------|
| idx_{table}_{column} | {column} | B-Tree |

---

## 6. 보안 설계

### 6.1 인증/인가

| 항목 | 구현 방식 |
|------|----------|
| 인증 방식 | JWT / Session / OAuth |
| 토큰 만료 | {시간} |
| 권한 체계 | RBAC / ABAC |

### 6.2 데이터 보안

| 항목 | 구현 방식 |
|------|----------|
| 비밀번호 해싱 | bcrypt (salt rounds: 12) |
| 민감정보 암호화 | AES-256 |
| SQL Injection | Parameterized queries |
| XSS | HTML 이스케이프 |
| CSRF | SameSite Cookie |

---

## 7. 에러 핸들링

### 7.1 에러 코드 정의

| 에러 코드 | HTTP 상태 | 설명 | 사용자 메시지 |
|----------|----------|------|--------------|
| {CODE} | {status} | {설명} | {메시지} |

### 7.2 에러 응답 형식

```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "사용자 친화적 메시지",
    "details": {}
  },
  "timestamp": "2024-01-01T00:00:00Z",
  "path": "/api/endpoint"
}
```

---

## 8. 테스트 전략

### 8.1 단위 테스트

| 대상 | 테스트 항목 | 커버리지 목표 |
|------|------------|--------------|
| {모듈} | {항목} | {%} |

### 8.2 통합 테스트

| 시나리오 | 테스트 항목 |
|----------|------------|
| {시나리오} | {항목} |

### 8.3 E2E 테스트

| 플로우 | 테스트 항목 |
|--------|------------|
| {플로우} | {항목} |

---

## 9. 성능 요구사항

| 항목 | 목표값 | 측정 방법 |
|------|--------|----------|
| 응답 시간 (P95) | < {N}ms | {방법} |
| 처리량 | {N} RPS | {방법} |
| 동시 접속 | {N}명 | {방법} |

---

## 10. 관련 문서

- [기능정의서](../features/{관련_기능}.md)
- [API 문서]({링크})
- [데이터베이스 ERD]({링크})

---

## 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | YYYY-MM-DD | {이름} | 최초 작성 |
